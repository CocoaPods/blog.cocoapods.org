<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
      <title>CocoaPods 0.34 - CocoaPods Blog</title>
    

    <meta name="description" content="The blog for CocoaPods.org the Cocoa Dependency Manager">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width">
    <link rel="alternate" type="application/rss+xml" title="CocoaPods Blog" href="/feed.xml">

    <meta charset="utf-8" /><meta content="cocoapods objective-c objc swift package manager libraries documentation search pods podspec podfile cocoa apple ios library" name="keywords" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><meta content="The Dependency Manager for iOS &amp; Mac projects" name="description" /><meta content="CocoaPods Dev Team" name="author" /><meta content="summary" name="twitter:card" /><meta content="@CocoaPods" name="twitter:site" /><meta content="@CocoaPods" name="twitter:creator" /><meta content="CocoaPods.org" name="twitter:title" /><meta content="The Dependency Manager for iOS &amp; Mac projects." name="twitter:description" /><meta content="https://www.cocoapods.org/" name="twitter:url" />
    <link rel="shortcut icon" href="https://cocoapods.org/favicons/favicon.ico" type="image/x-icon" /><link rel="apple-touch-icon" href="https://cocoapods.org/favicons/apple-touch-icon.png" /><link rel="apple-touch-icon" sizes="57x57" href="https://cocoapods.org/favicons/apple-touch-icon-57x57.png" /><link rel="apple-touch-icon" sizes="60x60" href="https://cocoapods.org/favicons/apple-touch-icon-60x60.png" /><link rel="apple-touch-icon" sizes="72x72" href="https://cocoapods.org/favicons/apple-touch-icon-72x72.png" /><link rel="apple-touch-icon" sizes="76x76" href="https://cocoapods.org/favicons/apple-touch-icon-76x76.png" /><link rel="apple-touch-icon" sizes="114x114" href="https://cocoapods.org/favicons/apple-touch-icon-114x114.png" /><link rel="apple-touch-icon" sizes="120x120" href="https://cocoapods.org/favicons/apple-touch-icon-120x120.png" /><link rel="apple-touch-icon" sizes="144x144" href="https://cocoapods.org/favicons/apple-touch-icon-144x144.png" /><link rel="apple-touch-icon" sizes="152x152" href="https://cocoapods.org/favicons/apple-touch-icon-152x152.png" />

    <link rel="stylesheet" href="/assets/bootstrap-3b61caa441fab92578453d6681fbf963.css">
    <link rel="stylesheet" href="/assets/main-df7f28d697ab31d8aa461b8f8ff0c7e4.css">
    <link rel="stylesheet" href="/assets/blog-a6cba0ad1ceb964c9a5a5387e033c3ff.css">


    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-29866548-3', 'cocoapods.org');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->

    <nav class="navbar navbar-static-top" role="navigation"><section class="container"><div class="navbar-header"><button class="navbar-toggle" data-target=".navbar-header-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="glyphicon glyphicon-plus"></span></button><a class="navbar-brand" href="https://cocoapods.org"></a></div><div class="collapse navbar-collapse navbar-header-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="https://cocoapods.org/app">App</a></li><li><a href="https://cocoapods.org/about">About</a></li><li><a href="https://guides.cocoapods.org">Guides</a></li><li class="active"><a href="https://blog.cocoapods.org">Blog</a></li><li><a href="https://cocoapods.org/socks">Socks (28 days)</a></li></ul></div></section></nav>

    <div id ="">
<section class="container" >
  <article class="row">
  <header class="col-md-8 col-md-offset-2 headline blog-post">
    
      <h1>CocoaPods 0.34</h1>
    
    
  </header>
  </article>
</section>
</div>

<section id="content-wrapper" class="post">
  <section class="container">
    <article class="row">
      <article class="author metadata col-md-2 col-md-push-10">
        <header>
          
            
              <img class="gravatar large" src="http://gravatar.com/avatar/b6dde1a78e6215a592768c1e78a54adc?s=144" height=72 width=72>
            
            
              
                <p><a href="http://twitter.com/fabiopelosin">Fabio Pelosin</a></p>
              
            
             <p>26 September 2014</p>

            
              <a href="https://twitter.com/fabiopelosin" class="twitter-follow-button" data-show-count="false" data-lang="en">
                Follow @fabiopelosin
              </a>
            
        </header>
      </article>
    
      <article class="content col-md-8">
        <p>TL;DR: <em>CocoaPods 0.34</em> which includes the work sponsored by
<a href="https://soundcloud.com">SoundCloud</a> has been released. The highlights? Support
for scoping Pods per build configuration, declaration of source repositories,
and faster downloads.</p>

<p><em>This release will require making changes to your <a href="https://github.com/artsy/eidolon/blob/master/Podfile#L1-L2">Podfile</a>s</em></p>

<!-- more -->

<p>I would like to thank <a href="https://soundcloud.com">SoundCloud</a> and the <a href="http://foundation.travis-ci.org">Travis
Foundation</a> for their support. Without their
contribution, this release wouldn&#39;t have been nearly as extensive. Initiatives
like this constitute an important engine to foster the development of the
CocoaPods community.</p>

<h2 id="dependencies-per-build-configuration">Dependencies per build configuration</h2>

<p>Read this:</p>
<div class="highlight">      </article>
      </article>
      </section>
      
      <div style="background-color:white;">
      <section class="container">
      <article class="row">
      <article class="content col-md-8 col-md-offset-2">
<pre class='highlight'><code class="ruby language-ruby" data-lang="ruby"><span class="n">pod</span> <span class="s1">&#39;Lookback&#39;</span><span class="p">,</span> <span class="ss">:configurations</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="s1">&#39;Debug&#39;</span><span class="o">]</span>
</code></pre>      </article>
      </article>
      </section>
      </div>
      
      <section class="container">
      <article class="row">
      <article class="content col-md-8 col-md-offset-2">
</div>
<p>Are you getting it?</p>

<p>Finally you can specify dependencies per build configuration. This is one of
the most requested CocoaPods features… ever.</p>

<p>The work on this functionality was kick-started by <a href="https://github.com/nevyn">Joachim
Bengtsson</a> with what I could describe only as a great
open source attitude. Joachim was interested in curating the complete
experience of <a href="https://lookback.io">Lookback</a>, including installation with
CocoaPods. Instead of just opening an issue he went above and beyond and
proposed one of the most ambitious pull requests which we ever received.
Unfortunately given its implications with the integration strategy, the patch
entered a limbo where it remained stuck for more than a year. However, thanks
to the support of SoundCloud (and the patience of Eloy) this feature has been
released.</p>

<p>There are some caveats to keep in mind though:</p>

<ul>
<li>Currently, dependencies can be scoped by configuration only by Pod rather
than by individual subspecs.</li>
<li>All the resources are copied regardless of the build configurations.</li>
<li>The Acknowledgements files generated by CocoaPods include all the Pods
regardless of whether they are scoped by build configuration.</li>
</ul>

<h2 id="private-spec-repositories">Private spec repositories</h2>

<p>Another feature which our users frequently ask for is the support
for declaring spec repositories in the Podfile. With this change the Podfile
becomes fully deterministic. This feature was kickstarted by <a href="https://github.com/netbe">François
Benaiteau</a>. Here is how it works:</p>
<div class="highlight">      </article>
      </article>
      </section>
      
      <div style="background-color:white;">
      <section class="container">
      <article class="row">
      <article class="content col-md-8 col-md-offset-2">
<pre class='highlight'><code class="ruby language-ruby" data-lang="ruby"><span class="n">source</span> <span class="s1">&#39;https://github.com/CocoaPods/Specs&#39;</span>
<span class="n">source</span> <span class="s1">&#39;https://github.com/Organization/Specs&#39;</span>
</code></pre>      </article>
      </article>
      </section>
      </div>
      
      <section class="container">
      <article class="row">
      <article class="content col-md-8 col-md-offset-2">
</div>
<p>You might be wondering what happens when a repository is not already cloned on
the user’s system. Well, wonder no more, because <a href="https://github.com/segiddins">Samuel
Giddins</a> has taken this feature to
the next level. If a repository is missing, CocoaPods will automatically clone
it and it will even <strong>finely craft a suitable</strong> name.</p>

<p>To ease the transition, the pre 0.34 behaviour of implicitly including all the
repos is still being supported, if no repo has been specified in the Podfile.
However this logic as been deprecated, so this is a good time to adopt the new
syntax in the Podfile.</p>

<p>Another thing to keep in mind is that the order of the repositories matter.
CocoaPods will only consider the versions of a Pod available in the first repo
where that Pod is available. Higher versions of a Pod specified in repositories
declared after one including the Pod are not considered. This feature prevents
a Pod switching to another repository by accident during an update because a
new higher version has been introduced. This can be case with a private repo
where the last version of a Pod available in the master repo is customised.</p>

<h2 id="faster-downloads">Faster downloads</h2>

<p>97% of the Pods available in the master repo use a git source (6193 out of 6403
to be precise). We noticed this trend early on during the development of
CocoaPods and we have adopted a cache for this download strategy. This solution
worked reasonably well for users cycling a common pool of Pods and upgrading
them. However, it had the disadvantage of incurring in a performance hit during
the first clone of a Pod. This hit was dramatically stronger for repositories
with a complex history.</p>

<p>Fortunately <a href="https://github.com/supermarin">Marin Usalj</a> come to the rescue and
proposed to move away from the caching system in favour of shallow cloning git
repos. The result? A faster experience and an even faster <code>pod try</code>.</p>

<h2 id="reorganisation-of-the-pods-directory">Reorganisation of the Pods directory</h2>

<p>The Pods directory has not been the pinnacle of human organisation. With the
development of CocoaPods different artefacts have been added and the layout of
the CocoaPods home has became a bit cluttered. We decided that the time to tidy
up our room has come. However we couldn’t leave existing installations
in the cold. So we have implemented a migration mechanism that <strong>completely</strong>
automates the transition. This is the tree that we are aiming at:</p>

<p></article>
</div>
</section>
<div style="background-color:white;">
<section class="container"><div class="row"><article class="content col-md-10 col-md-offset-1"><center>
<a href='/assets/blog_img/CocoaPods-0.34/pod_dir.png'><img width="559" class="image-zooma"  src='/assets/blog_img/CocoaPods-0.34/pod_dir.png'></a></center></article>
</div>
</section>
</div>
<section class="container">
<div class="row"><article class="content col-md-8 col-md-offset-2"></p>

<p>Unfortunately during the release candidates we discovered that a non negligible
number of Pods rely on the unsupported <code>PODS_ROOT</code> configuration setting
instead of using the
<a href="http://guides.cocoapods.org/syntax/podspec.html#vendored_frameworks"><code>vendored_frameworks</code></a>
and the
<a href="http://guides.cocoapods.org/syntax/podspec.html#vendored_libraries"><code>vendored_libraries</code></a>
attributes. To prevent issues we reverted the change which moved the sources
of the Pods in the directory aptly named <code>Sources</code> – I know this name is pure
art. However, this is a temporary band aid and <em>Podspecs maintainers should
update their specifications as soon as possible</em>.</p>

<h2 id="foundation-work">Foundation work</h2>

<p>The support from SoundCloud and the Travis Foundation extended to a less
visible but certainly not less important level.</p>

<p>Many of the CocoaPods dependencies have been cleaned up. Most of their issues
have been solved. Code-base style and the coverage was taken care of. Solid
dependencies means that the CocoaPods-Core team now can focus only in the last
mile, especially in the integration strategies.</p>

<p>Another tiny, tiny, tiny, but very significant change is that now
<code>requires_arc</code> defaults to true on Podspecs. This might look like the easiest
patch ever (just one line of code) however it provides an insight on the real
complexity of CocoaPods development: preserving existing installations… a.k.a
backwards compatibility. So this innocent looking
<a href="https://github.com/CocoaPods/CocoaPods/issues/267">issue</a> required to switch
the entire specs repo to JSON (in order to safely edit all the specs
programmatically) which in turn required to implement the trunk (in order to
prevent the mater repo from becoming a Babel of different formats). Of course
stating that those features stemmed from this  issue is a stretch, but at least
for me, their seed was planted there. I’m personally super happy to see it
finally closed after more than two years. By the way, if you have a custom
and private Podspecs I would recommend to check them to avoid any issue.</p>

<h2 id="updating">Updating</h2>

<p>To install the last release of CocoaPods you can run:</p>
<div class="highlight">      </article>
      </article>
      </section>
      
      <div style="background-color:white;">
      <section class="container">
      <article class="row">
      <article class="content col-md-8 col-md-offset-2">
<pre class='highlight'><code class="bash language-bash" data-lang="bash"><span class="nv">$ </span><span class="o">[</span>sudo<span class="o">]</span> gem install cocoapods
</code></pre>      </article>
      </article>
      </section>
      </div>
      
      <section class="container">
      <article class="row">
      <article class="content col-md-8 col-md-offset-2">
</div>
<p>Until version 1.0 we strongly encourage you to keep CocoaPods up-to-date.</p>

<p>For all the details, don’t miss the
<a href="https://github.com/CocoaPods/CocoaPods/blob/master/CHANGELOG.md">Changelog</a>.</p>

      </article>
    </article>
  </section>
</section>

<section id="post-accessories"><section class="container"><div class="row"><article class="content col-md-8 col-md-offset-2"><a data-container="body" data-content="CocoaPods is an open source project. Help us improve these blog posts by sending a pull request. ❤" data-original-title="" data-placement="top" data-toggle="popover" data-trigger="hover" href="https://github.com/CocoaPods/blog.cocoapods.org/tree/master/_posts/2014-09-26-CocoaPods-0.34.markdown" id="pull-request" title=""></a><a data-container="body" data-content="Check our out post archives." data-original-title="" data-placement="top" data-toggle="popover" data-trigger="hover" href="/archives" id="archives" title=""></a><div class="author-info"><img class="gravatar large" src="//gravatar.com/avatar/b6dde1a78e6215a592768c1e78a54adc" /><a class="twitter-follow-button" data-dnt="true" data-show-count="false" href="https://twitter.com/fabiopelosin">Follow fabiopelosin</a></div></article></div></section></section>

<section class="container" id="post-info"><div class="row"><article class="content .col-6 col-sm-6 col-md-4 col-md-offset-2 next "><a href="/Pod-Lib-Create" title="pod lib create v2"><header><h4>Previous Post</h4></header><h3>pod lib create v2</h3><p>By Orta Therox</p><a class="chevron_placeholder back" href="/Pod-Lib-Create"></a></a></article><article class="content col-6 col-sm-6 col-md-4 previous"><a href="/Coins" title="Coins"><header><h4>Next Post</h4></header><h3>Coins</h3><p>By Orta Therox</p><a class="chevron_placeholder next" href="/Coins"></a></a></article></div></section>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>



    <footer class="page-footer"><section class="container"><div class="row"><article class="col-md-8 col-lg-8 col-sm-12 col-md-offset-2 col-lg-offset-2 col-xs-12"><h4>CocoaPods is a project from</h4><p class="contributors"> <a href="http://buegling.com">Boris Bügling</a>, <a href="http://mariusrackwitz.de">Marius Rackwitz</a>, <a href="http://orta.io">Orta Therox</a>, <a href="http://segiddins.me">Samuel Giddins</a>, and <a href="https://cocoapods.org/about#team">The CocoaPods Dev Team</a> with contributions from <a href="https://github.com/CocoaPods/Specs/graphs/contributors">many, many others</a>.</p><h4>Lovingly sponsored by</h4><p class="sponsors"><a href="http://artsy.net">Artsy</a>, <a href="http://www.usebutton.com">Button</a>, <a href="http://www.capitalone.io">Capital One</a>, <a href="http://discontinuity.eu">Discontinuity</a>, <a href="http://www.fngtps.com">Fingertips</a>, <a href="https://www.heroku.com">Heroku</a>, <a href="http://www.rubymotion.com">RubyMotion</a>, <a href="https://www.sauspiel.de">Sauspiel</a>, <a href="https://www.slack.com">Slack</a>, <a href="https://www.soundcloud.com">SoundCloud</a>, <a href="https://www.stripe.com">Stripe</a> and <a href="http://www.technologyastronauts.ch">Technology&nbsp;Astronauts</a>.</p></article></div></section></footer><footer class="footer-links"><section class="container"><div class="row"><article class="col-md-8 col-lg-8 col-sm-12 col-md-offset-2 col-lg-offset-2 col-xs-12"><a class="cocoapods-small-logo" href="https://cocoapods.org"></a><ul><li class="col-md-3 col-sm-3 col-xs-6"><a href="https://guides.cocoapods.org/using/troubleshooting.html">Support</a></li><li class="col-md-3 col-sm-3 col-xs-6"><a href="https://github.com/CocoaPods/CocoaPods">GitHub Repo</a></li><li class="col-md-3 col-sm-3 col-xs-6"><a href="https://status.cocoapods.org">Web Properties Status</a></li><li class="col-md-3 col-sm-3 col-xs-6"><a href="https://twitter.com/CocoaPods">@CocoaPods</a></li><li class="col-md-3 col-sm-3 col-xs-6"><a href="http://groups.google.com/group/cocoapods">Mailing List</a></li><li class="col-md-3 col-sm-3 col-xs-6"><a href="https://cocoapods.org/about"><span class="visible-lg-span">CocoaPods</span> Dev Team</a></li><li class="col-md-3 col-sm-3 col-xs-6"><a href="https://guides.cocoapods.org/syntax/podfile.html">Podfile Doc<span class="hidden-lg-span">s</span><span class="visible-lg-span">umentation</span></a></li><li class="col-md-3 col-sm-3 col-xs-6"><a href="https://cocoapods.org/legal">Legal / Conduct</a></li></ul></article></div></section></footer>
    <script src="/assets/blog-c2911afb0e1e77d79b486c5c39fe0cc6.js"></script>

    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

  </body>
</html>
